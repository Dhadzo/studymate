(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/studying-image.558b19bf.jpg"},127:function(e,t,a){e.exports=a(274)},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},170:function(e,t){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},244:function(e,t,a){},266:function(e,t){},274:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),l=a(7),i=a.n(l),o=a(12),u=a(2),m=a(1),d=a(3),p={SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_TOKEN:"SIGN_IN_TOKEN",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SEND_MESSAGE_START:"SEND_MESSAGE_START",SENDING_MESSAGE_STATUS:"SENDING_MESSAGE_STATUS",UPDATE_USER_PROFILE:"UPDATE_USER_PROFILE",SEND_DISCUSSION_MESSAGE:"SEND_DISCUSSION_MESSAGE",SENDING_DISCUSSION_MESSAGE_STATUS:"SENDING_DISCUSSION_MESSAGE_STATUS",REFRESH_USER:"REFRESH_USER",SEND_REPLY:"SEND_REPLY",SENDING_REPLY_STATUS:"SENDING_REPLY_STATUS",FETCH_USER_PROFILE:"FETCH_USER_PROFILE",TOGGLE_USER_HEADER_OPTIONS_DISPLAY:"TOGGLE_USER_HEADER_OPTIONS_DISPLAY",LIKING_POST:"LIKING_POST"},f=function(e){return{type:p.SIGN_IN_SUCCESS,payload:e}},h=function(e){return{type:p.SIGN_IN_TOKEN,payload:e}},E=a(109),b=a(29),g=(a(137),function(e){e.subjects;var t=Object(E.a)(e,["subjects"]),a=Object(m.d)((function(e){return e.user.userToken})),c=Object(n.useState)(-1),s=Object(u.a)(c,2),l=s[0],d=s[1],p=Object(n.useState)([]),f=Object(u.a)(p,2),h=f[0],g=f[1],y=Object(n.useState)(""),x=Object(u.a)(y,2),v=x[0],j=x[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),w=S[0],N=S[1],k=Object(n.useRef)(null),I=Object(n.useRef)(null),_=Object(b.g)(),T=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t.key.length&&N(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===t.target.value&&(d(-1),N("")),40===t.keyCode?R():38===t.keyCode?D():13===t.keyCode&&(_.push({pathname:"/search",search:"?q=".concat(v)}),j(""),N(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){if(I.current){var e,t=I.current.children;for(e=0;e<t.length;e++)t[e].style.backgroundColor="";if(-1===l){d(t.length-1);var a=t.length-1;I.current.children[a].style.backgroundColor="grey",j(I.current.children[a].children[1].innerHTML)}else{d(l-1);var n=l-1;-1===n?j(w):(I.current.children[n].style.backgroundColor="grey",j(I.current.children[n].children[1].innerHTML))}}},R=function(){if(I.current){var e,t=I.current.children;for(e=0;e<t.length;e++)t[e].style.backgroundColor="";if(l===t.length-1)j(w),d(-1);else{var a=l+1;d(l+1),I.current.children[a].style.backgroundColor="grey",j(I.current.children[a].children[1].innerHTML)}}};Object(n.useEffect)((function(){fetch("/api/search-users/".concat(v.toLowerCase()),{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(e){g(e)}))}),[w]);var U=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.target.value),N(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("div",{class:"input-group-text border-right-0 searchbar"},r.a.createElement("i",{class:"fa fa-search"}))),r.a.createElement("input",Object.assign({class:"form-control pl-0 border-left-0 searchbar",type:"search",placeholder:"Search",value:v,onChange:U,onKeyPress:T},t,{onKeyDown:C,ref:k,autoComplete:"off"}))),0===w.length&&""===w||document.activeElement!==k.current?null:0!==h.length?r.a.createElement("div",{className:"rounded-0  mt-0 auto-div shadow"},r.a.createElement("ul",{className:"p-3 list-unstyled text-white",ref:I},h.map((function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px"}},r.a.createElement("img",{src:e.profilePic,style:{width:"40px",height:"40px"}}),r.a.createElement("li",{className:"p-2"},e.name))})))):null)}),y=(a(139),{header:{alignItems:"center",backgroundColor:"#1f2029",position:"fixed",marginBottom:"20px",width:"100%",height:"60px",zIndex:"20"},nav:{display:"flex",justifyContent:"space-between",listStyleType:"none",alignItems:"center"},rightNav:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:"60px",top:8,right:0,position:"fixed"},centerNav:{display:"flex",marginLeft:"40px",alignItems:"center"},leftNav:{display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:"20px"},searchBar:{width:"300px",fontSize:"15px"},listItem:{marginLeft:"40px",fontSize:"30px"},rightNavItem:{marginLeft:"40px",fontSize:"22px"},profileImage:{height:"40px",width:"40px",marginRight:"5px",marginTop:"6px"}}),x=function(){var e=Object(m.d)((function(e){return e.user.currentUser})),t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),f=Object(u.a)(l,2),h=(f[0],f[1],Object(n.useRef)(null)),E=Object(m.c)();Object(n.useEffect)((function(){return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}),[c,e]);var b=function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(h.current.contains(a.target)?s(!c):s(!1));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("header",{style:y.header,className:"shadow"},r.a.createElement("nav",{style:y.nav},r.a.createElement("div",{style:y.leftNav},r.a.createElement("li",{style:{fontSize:"20px"}},r.a.createElement(d.b,{className:"nav-link text-white",style:{fontFamily:"Grenze Gotisch, cursive"},to:"/"},"StudyMate")),e?r.a.createElement("p",{style:{display:"flex",alignItems:"center",marginTop:"10px",marginLeft:"20px",marginRight:"300px"}},r.a.createElement(g,{placeholder:"Search StudyMate...",style:y.searchBar})):null,r.a.createElement("li",{style:y.listItem},r.a.createElement(d.b,{to:"/home",className:"nav-link text-white"},e?r.a.createElement("i",{class:"fas fa-home"}):null)),r.a.createElement("li",{style:y.listItem},r.a.createElement(d.b,{to:"/watch",className:"text-white"},e?r.a.createElement("i",{class:"fab fa-youtube"}):null," ")),r.a.createElement("li",{style:y.listItem},r.a.createElement(d.b,{to:"/new-post",className:"text-white"},e?r.a.createElement("i",{class:"fas fa-plus"}):null," ")),r.a.createElement("li",{style:y.listItem},r.a.createElement(d.b,{to:"/chats",className:"text-white"},e?r.a.createElement("i",{class:"fas fa-comment-dots"}):null)),r.a.createElement("li",{style:y.listItem},r.a.createElement(d.b,{to:"/notifications",className:"text-white"},e?r.a.createElement("i",{class:"fas fa-bell"}):null)),e?r.a.createElement("div",{className:"rounded",style:{marginLeft:"60px",display:"flex",flexDirection:"column"}},r.a.createElement(d.b,{className:"text-white text-decoration-none"},r.a.createElement("li",{style:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",height:"30px",paddingTop:"5px",paddingRight:"5px",paddingLeft:"5px",border:"0px"},ref:h,name:"dropDownBox"},r.a.createElement("img",{src:e.profilePic,style:y.profileImage,className:"rounded-circle"}),r.a.createElement("i",{class:"ml-1 flex-end fas fa-caret-down"}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",marginTop:"10px"}},c?r.a.createElement("ol",{className:" dropdownheader"},r.a.createElement("li",{className:" border-bottom p-2"},"Signed in as ",r.a.createElement("strong",null,e.username)),r.a.createElement("li",{className:"m-2"},r.a.createElement(d.b,{style:{color:"#c4c3ca"},className:"text-decoration-none",to:"/profile/".concat(e.username)},r.a.createElement("i",{class:"fas fa-user-circle mr-2"}),"Your profile")),r.a.createElement("li",{className:"m-2"},r.a.createElement(d.b,{style:{color:"#c4c3ca"},className:"text-decoration-none"},r.a.createElement("i",{class:"fas fa-cog mr-2"}),"Settings")),r.a.createElement("li",{className:"m-2"},r.a.createElement(d.b,{style:{color:"#c4c3ca"},className:"text-decoration-none",onClick:function(){E({type:p.SIGN_OUT_SUCCESS}),s(!1)}},r.a.createElement("i",{class:"fas fa-sign-out-alt mr-2"}," "),"Sign out"))):null)):null),r.a.createElement("div",{style:y.centerNav}),r.a.createElement("div",{style:y.rightNav},r.a.createElement("li",{style:y.rightNavItem},r.a.createElement(d.b,{to:"/signin",className:"text-white"},e?null:r.a.createElement("i",{class:"fas fa-sign-in-alt "}," ",r.a.createElement("span",{style:{fontFamily:"Grenze Gotisch, cursive"}},"Sign In ")," "))),r.a.createElement("li",{style:y.rightNavItem},r.a.createElement(d.b,{to:"/signup",className:"text-white"},e?null:r.a.createElement("i",{class:"fas fa-user-plus"}," ",r.a.createElement("span",{style:{fontFamily:"Grenze Gotisch, cursive"}},"Sign up")," "))))))},v=(a(140),a(111)),j=a.n(v),O=function(){return r.a.createElement("div",{className:"welcome-body"},r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"introHead"},"StudyMate"),r.a.createElement("div",{className:"introBody"},"StudyMate is a platform for students where they get to interact with others who have similar interests with them. It also helps them to find the closest study partner from their current location."),r.a.createElement("div",{className:"mt-5"},r.a.createElement(d.b,{className:"p-3 buttn text-decoration-none",to:"/signup"},"Get started."))),r.a.createElement("div",{className:"picDiv"},r.a.createElement("img",{src:j.a,className:"welcome-picture"})))},S=a(24),w=a(8),N=(a(49),a(45)),k=function(){var e=Object(n.useState)({emailOrUsername:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),g=b[0],y=b[1],x=Object(m.c)(),v=a.emailOrUsername,j=a.password,O=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,r=n.name,s=n.value,c(Object(w.a)({},a,Object(S.a)({},r,s)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),y(""),t.preventDefault(),fetch("/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.message?(e.message.details?(y(e.message.details[0].message),console.log(e.message.details[0].message)):(y(e.message),console.log(e.message)),p(!1)):(x(f(e.user)),x(h(e.authToken)),c({emailOrUsername:"",password:""}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{opacity:"".concat(d?"0.4":"1")}},d?r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"673px",marginTop:"200px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})):null,r.a.createElement("div",{class:"login-wrap"},r.a.createElement("div",{class:"login-html"},r.a.createElement("input",{id:"tab-1",type:"radio",name:"tab",class:"sign-in",checked:!0}),r.a.createElement("label",{for:"tab-1",class:"tab",style:{fontFamily:"Grenze Gotisch, cursive"}},"Sign In"),r.a.createElement("form",{class:"login-form",onSubmit:k},r.a.createElement("div",{class:"sign-in-htm"},r.a.createElement("div",{class:"group"},r.a.createElement("input",{type:"text",placeholder:"Email or username",className:"".concat(g?"border-danger":"border-dark"," input"),name:"emailOrUsername",value:v,onChange:O})),r.a.createElement("div",{class:"group"},r.a.createElement("input",{type:"password",placeholder:"Password",className:"".concat(g?"border-danger":"border-dark"," input"),name:"password",value:j,onChange:O,"data-type":"password"}),r.a.createElement("small",{className:"".concat(g.length>0?"text-danger ml-1":"d-none")},g)),r.a.createElement("div",{class:"group"},r.a.createElement("input",{id:"check",type:"checkbox",class:"check",checked:!0}),r.a.createElement("label",{for:"check",style:{fontFamily:"Grenze Gotisch, cursive"}},r.a.createElement("span",{class:"icon"})," Keep me Signed in")),r.a.createElement("div",{class:"group"},r.a.createElement("input",{type:"submit",class:"button",value:"Sign In"})),r.a.createElement("div",{class:"hr"}),r.a.createElement("div",{class:"foot-lnk"},r.a.createElement("a",{href:"#",style:{color:"#A11919"}},"Forgot Password?")))))))},I=function(){var e=Object(n.useState)({name:"",email:"",username:"",password:""}),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(u.a)(s,2),d=l[0],p=l[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),g=(b[0],b[1],Object(n.useState)("")),y=Object(u.a)(g,2),x=y[0],v=y[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),k=O[0],I=O[1],_=Object(n.useState)(""),T=Object(u.a)(_,2),C=T[0],D=T[1],R=Object(n.useState)(""),U=Object(u.a)(R,2),P=U[0],L=U[1],A=Object(n.useState)(""),G=Object(u.a)(A,2),F=(G[0],G[1]),M=Object(m.c)(),B=a.name,z=a.email,H=a.username,K=a.password,Y=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target,r=n.name,s=n.value,c(Object(w.a)({},a,Object(S.a)({},r,s)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v(""),I(""),D(""),L(""),F(""),p(!0),fetch("/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.details){var t=e.details[0].message;t.includes("email")?v(t):t.includes("name")?t.includes("username")?L(t):I(t):t.includes("password")&&D(t)}else if(e.error){var a=e.error;a.includes("name")?I(a):a.includes("email")&&v(a)}else M(f(e.user)),M(h(e.authToken)),c({name:"",email:"",username:"",password:""});p(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{opacity:"".concat(d?"0.4":"1")}},d?r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"673px",marginTop:"200px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})):null,r.a.createElement("div",{class:"login-wrap"},r.a.createElement("div",{class:"login-html"},r.a.createElement("input",{id:"tab-2",type:"radio",name:"tab",class:"sign-up",checked:!0}),r.a.createElement("label",{for:"tab-2",style:{fontFamily:"Grenze Gotisch, cursive"},class:"tab"},"Sign Up"),r.a.createElement("form",{class:"login-form",onSubmit:V},r.a.createElement("div",{class:"sign-up-htm"},r.a.createElement("div",{class:"group"},r.a.createElement("input",{id:"name",placeholder:"Name",name:"name",value:B,onChange:Y,type:"text",className:"".concat(k.length>0?"border-danger":"border-dark"," input")}),r.a.createElement("small",{className:"".concat(k.length>0?"text-danger ml-2":"d-none")},k)),r.a.createElement("div",{class:"group"},r.a.createElement("input",{id:"pass",placeholder:"Email",type:"email",name:"email",value:z,onChange:Y,className:"".concat(x.length>0?"border-danger":"border-dark"," input")}),r.a.createElement("small",{className:"".concat(x.length>0?"text-danger ml-2":"d-none")},x)),r.a.createElement("div",{class:"group"},r.a.createElement("input",{id:"pass",placeholder:"Password",type:"password",className:"".concat(C.length>0?"border-danger":"border-dark"," input"),name:"password",value:K,onChange:Y,"data-type":"password"}),r.a.createElement("small",{className:"".concat(C.length>0?"text-danger":"d-none")},C)),r.a.createElement("div",{class:"group"},r.a.createElement("input",{id:"pass",type:"text",placeholder:"Username",name:"username",value:H,onChange:Y,className:"".concat(P.length>0?"border-danger":"border-dark"," input")}),r.a.createElement("small",{className:"".concat(P.length>0?"text-danger":"d-none")},P)),r.a.createElement("div",{class:"group"},r.a.createElement("input",{type:"submit",class:"button",value:"Sign Up"})))))))},_=a(18),T=(a(141),a(113)),C=a(114);function D(){var e=Object(T.a)(["\n  fontSize: 10px;\n  color: white;\n  fontFamily: sans\n"]);return D=function(){return e},e}var R,U=Object(C.a)(d.b)(D()),P=function(e){var t,a,n=e.chat,c=Object(m.d)((function(e){return e.user.currentUser}))._id;return n.user1._id===c?(t=n.user2.username,n.user2._id,a=n.user2.profilePic):(t=n.user1.username,n.user1._id,a=n.user1.profilePic),r.a.createElement("div",{className:"  p-2",style:{height:"75px"}},r.a.createElement("div",{className:"chat-tab h-100"},r.a.createElement(U,{to:"/chats/".concat(n._id),className:"text-decoration-none"},r.a.createElement(_.a,null,r.a.createElement("p",{style:{width:"50px",height:"50px"}},r.a.createElement("img",{src:a,className:"h-100 w-100  rounded-circle"})),r.a.createElement(_.a.Body,{className:"ml-1"},r.a.createElement("div",{className:" mt-2",style:{fontFamily:"Arial, sans-serif",fontSize:"14px"}},t),r.a.createElement("div",{style:{fontSize:"10px",display:"flex",flexDirection:"row",alignItems:"center",color:"grey",width:"40px",justifyContent:"space-between"}},r.a.createElement("i",{class:"fa fa-circle online",style:{color:"green"}})," online"))))))},L=(a(142),function(e){var t,a,c,s,l=e.match,f=Object(n.useState)(""),h=Object(u.a)(f,2),E=(h[0],h[1],Object(n.useState)({user1:{},user2:{},messages:[],_id:""})),b=Object(u.a)(E,2),g=b[0],y=b[1],x=Object(n.useRef)(null),v=Object(n.useRef)(null),j=Object(m.c)(),O=Object(m.d)((function(e){return e.user.currentUser})),S=Object(m.d)((function(e){return e.user.userToken})),w=O._id;c=g._id,g.user1._id===w?(t=g.user2.username,a=g.user2._id,s=g.user2.profilePic):(t=g.user1.username,a=g.user1._id,s=g.user2.profilePic),Object(n.useEffect)((function(){fetch("/api/chat/".concat(l.params.chatId),{headers:{"auth-token":"".concat(S)}}).then((function(e){return e.json()})).then((function(e){y(e)}))}),[l]),Object(n.useEffect)((function(){x.current.scrollTop=1e4,v.current.focus()}));var k=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v.current.value,t.preventDefault(),n.length>0&&(j({type:p.SEND_MESSAGE_START,payload:{message:n,chatId:c,mateId:a,currentUserId:w}}),j({type:p.SENDING_MESSAGE_STATUS}),v.current.value="",v.current.focus());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:" h-100 bg-transparent body "},g?r.a.createElement("div",null,r.a.createElement("div",{className:" p-3",style:{height:"80px",fontSize:"20px",backgroundColor:"transparent"}},r.a.createElement("div",{style:{height:"80px",fontSize:"20px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:"50px",height:"50px"}},r.a.createElement(d.b,{to:"/profile/".concat(t)},r.a.createElement("img",{src:s,className:" w-100 h-100 rounded-circle"}))),r.a.createElement("div",{className:"chat-top"},r.a.createElement(d.b,{to:"/profile/".concat(t)},r.a.createElement("div",{className:" text-white"},t)))))),r.a.createElement("div",{ref:x,className:"overflow-auto mt-2 p-2 chat-box",style:{height:"320px",width:"100%",paddingBottom:"10px"}},g.messages?g.messages.map((function(e){return r.a.createElement("p",{className:"".concat(e.sender._id==w?"ml-auto sent-message":"mr-auto received-message"," text-white rounded  w-50 text-break")},e.message_body)})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"250px",marginTop:"120px"}},r.a.createElement(N.a,{animation:"border",variant:"green"}))),r.a.createElement("div",{className:"border-top",style:{height:"160px",fontSize:"20px"}},r.a.createElement("form",{onSubmit:k,className:"d-flex flex-column  align-items-baseline"},r.a.createElement("textarea",{ref:v,type:"text",className:" send-input pl-3 border-bottom",placeholder:"Write a new message"}),r.a.createElement("div",{className:"message-options"},r.a.createElement("div",{className:"left-options text-white"},r.a.createElement("i",{class:"fas fa-paperclip"}),r.a.createElement("i",{class:"far fa-smile"})),r.a.createElement("button",{className:"right-options",style:{backgroundColor:"rgba(40,57,101,.9)"}},"send"))))):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"130px",marginTop:"150px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})))}),A=(a(143),{container:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"60px",width:"100%",height:"560px"},chats:{width:"20%",border:"1px solid white",backgroundColor:"#1f2029",backgroundImage:"url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg')",boxShadow:" 0 8px 24px rgba(149,157,165,.2)"},chat:(R={width:"40%",backgroundColor:"rgba(40,57,101,.9)",height:"560px"},Object(S.a)(R,"backgroundColor","#1f2029"),Object(S.a)(R,"backgroundImage","url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat.svg')"),Object(S.a)(R,"border","1px solid white"),R),users:{overflow:"auto",height:"480px"}}),G=Object(m.b)((function(e){return{isSending:e.user.isSending}}))((function(e){var t=e.match,a=e.isSending,c=Object(n.useState)([]),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(m.d)((function(e){return e.user.currentUser})),d=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/chats/".concat(o._id),{headers:{"auth-token":"".concat(d)}}).then((function(e){return e.json()})).then((function(e){i(e)}))}),[a]),r.a.createElement("div",{style:A.container},r.a.createElement("div",{style:A.chats,className:"border-right"},r.a.createElement("div",{className:"new-message"}),r.a.createElement("div",{className:"border-bottom searchchats"},r.a.createElement("input",{type:"search",className:"searchBut",placeholder:"Search chats..."})),r.a.createElement("div",{style:A.users},l?l.map((function(e){return r.a.createElement("div",{className:"ml-1"},r.a.createElement("div",{className:" overflow-auto"},r.a.createElement(P,{chat:e})))})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"130px",marginTop:"150px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})))),r.a.createElement("div",{style:A.chat},r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"".concat(t.path,"/:chatId"),render:function(e){return r.a.createElement(L,e)}}))))})),F=(a(144),function(e){var t,a,n=e.notification,c=Object(m.d)((function(e){return e.user.currentUser}));return"like-discussion"==n.type?(t="/profile/".concat(c.username),a="post-id=".concat(n.typeId)):"comment"==n.type&&(t="/discussions/".concat(n.parentId),a="comment-id=".concat(n.typeId)),r.a.createElement("div",{className:"noti-body"},r.a.createElement("div",null,r.a.createElement(d.b,{to:{pathname:t,search:a},className:"text-decoration-none text"},r.a.createElement(_.a,{className:""},r.a.createElement("p",{className:"rounded-circle  mr-3",style:{width:"60px",height:"60px"}},r.a.createElement("img",{src:n.sender.profilePic,className:"h-100 w-100 rounded-circle"})),r.a.createElement(_.a.Body,null,r.a.createElement("h5",{className:"  font-weight-normal text-break",style:{color:"black",fontSize:"15px",marginTop:"10px"}},n.body))))))}),M={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"100%",marginTop:"100px"},notifications:{width:"45%"}},B=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(m.d)((function(e){return e.user.currentUser})),l=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/notifications/".concat(s._id),{headers:{"auth-token":"".concat(l)}}).then((function(e){return e.json()})).then((function(e){return c(e)})),window.scrollTo(0,0)}),[]),r.a.createElement("div",{style:M.container},r.a.createElement("div",{style:M.notifications},a.length>0?a.map((function(e){return r.a.createElement(F,{notification:e})})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"260px",marginTop:"150px"}},r.a.createElement(N.a,{animation:"border",variant:"white"}))))},z=(a(145),a(26)),H=a.n(z),K=(a(188),function(e){return{type:"ADD_ALL_DISCUSSIONS",payload:e}}),Y=(a(189),a(207),function(e){var t=e.src,a=e.width,c=e.height,s=e.top,l=Object(n.useRef)(null),i=Object(n.useRef)(null),o=Object(n.useRef)(null),m=Object(n.useRef)(null),d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],h=p[1],E=function(){l.current.paused?(h(!0),l.current.play(),m.current.style.visibility="hidden"):(h(!1),l.current.pause())};return r.a.createElement("div",{onMouseOver:function(){o.current.style.visibility="visible"},onMouseOut:function(){o.current.style.visibility="hidden"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:a}},r.a.createElement("video",{ref:l,className:"video-screen",width:a,height:c,src:t,onClick:E,onTimeUpdate:function(){var e=l.current.currentTime/l.current.duration;i.current.style.width=100*e+"%",l.current.ended&&(h(!1),m.current.style.visibility="visible")}}),r.a.createElement("div",{className:"play-icon",ref:m,onClick:function(){m.current.style.visibility="hidden",l.current.play(),h(!0)},style:{top:s}},r.a.createElement("i",{class:"far fa-play-circle text-white"}))),r.a.createElement("div",{className:"controls",ref:o},r.a.createElement("button",{onClick:E},f?r.a.createElement("i",{class:"fas fa-pause"}):r.a.createElement("i",{class:"fas fa-play"})),r.a.createElement("button",{className:"time"},"2.00/5.30"),r.a.createElement("div",{className:"progress-bar bg-white"},r.a.createElement("div",{className:"blue-juice",ref:i})),r.a.createElement("button",{onClick:function(){l.current.requestFullscreen()}},r.a.createElement("i",{class:"fas fa-expand-alt"})),r.a.createElement("button",null,r.a.createElement("i",{class:"fas fa-volume-up"}))))}),V=(a(208),r.a.forwardRef((function(e,t){var a=e.discussion,n=e.height,c=e.width,s=e.top,l=Object(m.d)((function(e){return e.user.currentUser})),i=Object(m.d)((function(e){return e.user.userToken})),o=l._id,u=Object(m.c)();return r.a.createElement("div",{style:J.container,className:"postbody",ref:t,width:c,height:n},r.a.createElement(_.a,{className:"p-2 mb-3 h-50",style:{}},r.a.createElement("p",{className:"bg-dark rounded-circle  mr-1 text-white text-center mr-3",style:{width:"30px",height:"30px"}},r.a.createElement(d.b,{to:"/profile/".concat(a.creator.username)},r.a.createElement("img",{src:a.creator.profilePic,className:"h-100 w-100 rounded-circle"}))),r.a.createElement(_.a.Body,null,r.a.createElement(d.b,{className:"text-white",to:"/discussions/".concat(a._id),style:{textDecoration:"none"}},r.a.createElement("h6",{className:"font-weight-bold mb-2"},r.a.createElement(d.b,{style:{color:"black",fontSize:"15px"},to:"/profile/".concat(a.creator.username)},a.creator.username)),r.a.createElement("h4",{className:" text-break font-weight-normal",style:{color:"black",fontSize:"15px"}},H()(a.topic)),a.video.length>0?r.a.createElement(Y,{src:a.video,width:c,height:n,top:s}):null,a.image.length>0?r.a.createElement("img",{src:a.image,style:J.postImage}):null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",marginTop:"10px",width:"90%"}},r.a.createElement(d.b,{to:"/discussions/".concat(a._id),className:"text-decoration-none"},r.a.createElement("div",{style:J.postfooter},r.a.createElement("i",{class:"far fa-comment mr-1",style:J.icon}),r.a.createElement("div",null,a.messages.length))),r.a.createElement(d.b,{className:"text-decoration-none"},r.a.createElement("div",{style:J.postfooter},r.a.createElement("i",{class:"fa fa-thumbs-up mr-1",onClick:function(){fetch("/api/like/".concat(a._id),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","auth-token":"".concat(i)},body:JSON.stringify({currentUserId:o})}).then((function(e){return e.json()})).then((function(e){u(K(e.discussions))}))},style:J.icon}),r.a.createElement("div",null,a.likes))),r.a.createElement(d.b,{className:"text-decoration-none"},r.a.createElement("div",{style:J.postfooter},r.a.createElement("i",{class:"fa fa-share mr-1",style:J.icon}),r.a.createElement("div",null))),r.a.createElement(d.b,{className:"text-decoration-none"},r.a.createElement("div",{style:J.postfooter},r.a.createElement("i",{class:"fas fa-eye-slash mr-1",style:J.icon}),r.a.createElement("div",null)))))))}))),J={container:{backgroundColor:"white",marginBottom:"10px",borderRadius:"5px",width:"550px"},postImage:{height:"360px",width:"440px"},icon:{cursor:"pointer",fontSize:"18px",marginTop:"2px"},postfooter:{display:"flex",flexDirection:"row",alignItems:"center",color:"rgba(0,0,0,0.65)"}},W=V,q=function(e){var t=e.match,a=Object(b.h)(),c=new URLSearchParams(a.search).get("post-id"),s=Object(m.c)(),l=(Object(m.d)((function(e){return e.posts.allDiscussions})),Object(n.useState)([])),i=Object(u.a)(l,2),o=i[0],d=i[1],f=Object(m.d)((function(e){return e.user.userToken})),h=Object(n.useCallback)((function(e){null!==e&&(window.scrollTo(0,0),e.scrollIntoView({behavior:"smooth"}))}));return Object(n.useEffect)((function(){fetch("/api/profile/".concat(t.params.username),{headers:{"auth-token":"".concat(f)}}).then((function(e){return e.json()})).then((function(e){var t;s((t=e.user,{type:p.FETCH_USER_PROFILE,payload:t})),d(e.userPosts)}))}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Posts"),o.map((function(e){return r.a.createElement("div",null,e._id==c?r.a.createElement(W,{discussion:e,ref:h,width:"440px",height:"360px",top:"130px"}):r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"}))})))},$=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))}))}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Replied Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},Q=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))}))}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Liked Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},X=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))}))}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Shared Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},Z=a(276),ee=(a(209),a(210),a(38)),te=a.n(ee),ae=function(e){var t=Object(m.d)((function(e){return e.user.currentUser})),a=Object(m.d)((function(e){return e.user.userToken})),c=t._id,s=(Object(n.useRef)(null),Object(n.useState)("")),l=Object(u.a)(s,2),i=(l[0],l[1],Object(n.useState)([])),o=Object(u.a)(i,2),d=(o[0],o[1],Object(n.useState)(t.name)),p=Object(u.a)(d,2),h=p[0],E=p[1],b=Object(n.useState)(t.username),g=Object(u.a)(b,2),y=g[0],x=g[1],v=Object(m.c)(),j=Object(n.useState)(!1),O=Object(u.a)(j,2),S=O[0],w=O[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),I=k[0],_=k[1],T=Object(n.useState)(t.profilePic),C=Object(u.a)(T,2),D=(C[0],C[1]),R=Object(n.useRef)(null),U=Object(n.useRef)(null);return r.a.createElement(Z.a,Object.assign({},e,{"aria-labelledby":"contained-modal-title-vcenter modalcolor "}),r.a.createElement(Z.a.Body,{className:"modalcolor"},r.a.createElement("div",{className:""},r.a.createElement("label",{for:"name",className:"font-weight-bold"},"Name"),r.a.createElement("input",{className:"border-dark rounded-0 inputstyle",onChange:function(e){E(e.target.value)},type:"text",value:h,name:"name"})),r.a.createElement("div",{className:"p-1"},r.a.createElement("label",{for:"username",className:"font-weight-bold"},"Username"),r.a.createElement("input",{className:"border-dark rounded-0 inputstyle",onChange:function(e){x(e.target.value)},type:"text",value:y,name:"username"})),r.a.createElement("div",{className:" align-items-baseline p-1",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("label",{className:"font-weight-bold"},"Profile picture"),r.a.createElement("label",{className:"text-nowrap font-weight-bold modal-btn"},r.a.createElement("i",{class:"fas fa-plus"}),r.a.createElement("input",{type:"file",name:"filename",accept:"image/*",className:" d-none",onChange:function(e){w(!1);var t=new FileReader,a=R.current.files[0];t.addEventListener("load",(function(){U.current.src=t.result,_(R.current.files[0]),w(!0)}),!1),a&&t.readAsDataURL(a)},ref:R}))),r.a.createElement("img",{src:t.profilePic,style:{width:"100%",height:"50%"},ref:U}),r.a.createElement("div",{className:"p-1",style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("div",{onClick:e.onHide,className:"modal-btn"},"Cancel"),r.a.createElement("p",{onClick:function(){!function(){if(S){var e=I.name.split(".").pop(),n=c+"."+e,r=new FormData;r.append("file",I,n),te.a.post("/api/change-profile-pic/".concat(c),{headers:{"auth-token":"".concat(a)}},r,{}).then((function(e){return v(f(e.data))})).then((function(){return D(t.profilePic)})),w(!1)}}(),y!=t.username&&h!=t.name&&fetch("/api/edit-profile",{headers:{"Content-Type":"application/json",Accept:"application/json","auth-token":"".concat(a)},method:"POST",body:JSON.stringify({name:h,username:y,currentUserId:c})}).then((function(e){return e.json()})).then((function(e){return v(f(e))})),e.history.push("/profile/".concat(y)),e.onHide()},className:"modal-btn"},"Save"))))},ne=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))})),window.scrollTo(0,0)}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Recent Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},re=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))})),window.scrollTo(0,0)}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Hot Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},ce=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.posts.allDiscussions})),a=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(a)}}).then((function(e){return e.json()})).then((function(t){e(K(t.discussions))})),window.scrollTo(0,0)}),[]),r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center",style:{marginBottom:"20px",fontFamily:"arial"}},"Trending Posts"),t.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})))},se=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(s)}}).then((function(e){return e.json()})).then((function(e){c(e.discussions)})),window.scrollTo(0,0)}),[]),r.a.createElement("div",null,a.length>0?a.map((function(e){return r.a.createElement(W,{discussion:e,width:"440px",height:"360px",top:"130px"})})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"-30px",marginTop:"100px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})))},le=(a(227),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/who-to-follow",{headers:{"auth-token":"".concat(s)}}).then((function(e){return e.json()})).then((function(e){c(e)}))})),r.a.createElement("div",{className:"users"},r.a.createElement("div",{className:"border-bottom pb-2 font-weight-bold"},"Who To Follow"),a.length>0?a.map((function(e){return r.a.createElement("div",{className:"user"},r.a.createElement(d.b,{to:"/profile/".concat(e.username),className:"text-decoration-none"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("img",{src:e.profilePic,className:"userimg"}),r.a.createElement("div",{className:"text-dark"}," ",e.username," "))),r.a.createElement("button",null,"Follow"))})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"100px",marginTop:"150px"}},r.a.createElement(N.a,{animation:"border",variant:"black"})))}),ie=(a(228),function(e){var t=e.match,a=Object(m.c)(),c=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/discussions",{headers:{"auth-token":"".concat(c)}}).then((function(e){return e.json()})).then((function(e){a(K(e.discussions))})),window.scrollTo(0,0)}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"posts"},r.a.createElement("div",{className:"displayedPostsOption"},r.a.createElement(d.b,{to:"/home/trending-posts",className:"option text-decoration-none"},r.a.createElement("i",{class:"fas fa-chart-line text-warning"}),r.a.createElement("span",{className:"text"},"Trending")),r.a.createElement(d.b,{to:"/home/hot-posts",className:"option text-decoration-none"},r.a.createElement("i",{class:"fab fa-hotjar text-success"}),r.a.createElement("span",{className:"text"},"Hot")),r.a.createElement(d.b,{to:"/home/recent-posts",className:"option text-decoration-none"},r.a.createElement("i",{class:"fab fa-hotjar text-info"}),r.a.createElement("span",{className:"text"},"Recent")),r.a.createElement(d.b,{to:"/watch",className:"option text-decoration-none"},r.a.createElement("i",{class:"fab fa-youtube text-danger"}),r.a.createElement("span",{className:"text"},"Videos")),r.a.createElement(d.b,{to:"/new-post",className:"option text-decoration-none"},r.a.createElement("i",{class:"fas fa-edit text-primary"}),r.a.createElement("span",{className:"text"},"Create"))),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"".concat(t.path,"/trending-posts"),component:ce}),r.a.createElement(b.b,{path:"".concat(t.path,"/hot-posts"),component:re}),r.a.createElement(b.b,{path:"".concat(t.path,"/recent-posts"),component:ne}),r.a.createElement(b.b,{path:"".concat(t.path),component:se}))),r.a.createElement("div",{className:"who-to-follow "},r.a.createElement(le,null)))}),oe=function(e){var t=e.match,a=e.history,c=Object(b.h)(),s=(new URLSearchParams(c.search).get("post-id"),Object(n.useState)(!1)),l=Object(u.a)(s,2),i=l[0],o=l[1],f=Object(m.d)((function(e){return e.user.currentUser})),h=Object(m.d)((function(e){return e.user.userToken})),E=Object(n.useState)([]),g=Object(u.a)(E,2),y=(g[0],g[1]),x=Object(n.useState)({_id:"",name:"",username:"",profilePic:""}),v=Object(u.a)(x,2),j=v[0],O=v[1],S=Object(m.c)(),w=(f._id,Object(n.useRef)(null),Object(n.useRef)(null)),k=(Object(n.useRef)(null),Object(n.useState)(!1)),I=Object(u.a)(k,2),T=(I[0],I[1],Object(n.useState)(null)),C=Object(u.a)(T,2),D=(C[0],C[1],Object(n.useState)(f.profilePic)),R=Object(u.a)(D,2),U=(R[0],R[1]);console.log(f),Object(n.useEffect)((function(){fetch("/api/profile/".concat(t.params.username),{headers:{"auth-token":"".concat(h)}}).then((function(e){return e.json()})).then((function(e){O(e.user),y(e.userPosts)}))}),[t]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){U(f.profilePic)}),[f]);var P=function(){fetch("/api/addmate/".concat(j._id),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","auth-token":"".concat(h)},body:JSON.stringify({mateId:j._id,userId:f._id})}).then((function(e){return e.json()})).then((function(e){S(function(e){return{type:p.UPDATE_USER_PROFILE,payload:e}}(e.user)),a.push("/chats/".concat(e.Id))}))};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"topDiv"},j?r.a.createElement(_.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"50px"}},r.a.createElement("div",{style:{width:"500px",height:"300px"}},j.profilePic?r.a.createElement("img",{src:j.profilePic,style:{width:"100%",height:"100%"},ref:w}):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"220px",marginTop:"150px"}},r.a.createElement(N.a,{animation:"border",variant:"black"}))),r.a.createElement("div",{className:"text-center",onClick:function(){return o(!0)}},r.a.createElement("h1",{className:"font-weight-bold mb-0"},j.name),r.a.createElement("h6",null,j.username)),r.a.createElement(ae,{history:a,userProfile:j,show:i,onHide:function(){return o(!1)}}),r.a.createElement("div",{className:"profileOptions"},f._id==j._id?r.a.createElement("p",{className:"ml-5",onClick:function(){return o(!0)}},"Edit profile"):r.a.createElement("p",{className:"ml-5",onClick:function(){return P()}},"Message"),r.a.createElement("p",{className:"ml-5"},"30 Followers"),r.a.createElement("p",{className:"ml-5"},"11 Following")),r.a.createElement(_.a.Body,null)):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"360px",marginTop:"200px"}},r.a.createElement(N.a,{animation:"border",variant:"black"}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"midDiv"},j?r.a.createElement("div",null,r.a.createElement("div",null,f._id==j._id?r.a.createElement("div",{className:"newPostDiv"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center",marginTop:"15px"}},r.a.createElement("p",{className:"",style:{width:"40px",height:"40px"}},r.a.createElement("img",{src:f.profilePic,style:{width:"100%",height:"100%"},className:"rounded-circle"})),r.a.createElement("form",null,r.a.createElement(d.b,{to:"/new-post"},r.a.createElement("input",{type:"text",onChange:function(){return a.push("/new-post")},style:{borderRadius:"5px",height:"40px",width:"480px",backgroundColor:"#E1E8ED"},className:" ml-2 pl-2",placeholder:"Create a new Post"}))))):null),r.a.createElement("div",{className:"displayedPostsOptions"},r.a.createElement(d.b,{to:"/profile/".concat(j.username),className:"option text-decoration-none"},r.a.createElement("i",{class:"fas fa-edit mr-1 text-primary"}),r.a.createElement("span",{className:"text"},"Posts")),r.a.createElement(d.b,{to:"/profile/".concat(j.username,"/replies"),className:"option text-decoration-none"},r.a.createElement("i",{class:"fas fa-reply-all mr-1 text-info"}),r.a.createElement("span",{className:"text"},"Replies")),r.a.createElement(d.b,{to:"/profile/".concat(j.username,"/likes"),className:"option text-decoration-none"},r.a.createElement("i",{class:"fas fa-heart mr-1 text-danger"}),r.a.createElement("span",{className:"text"},"Likes")),r.a.createElement(d.b,{to:"/profile/".concat(j.username,"/shared"),className:"option text-decoration-none"},r.a.createElement("i",{class:"fa fa-share mr-1 text-success"}),r.a.createElement("span",{className:"text"},"Shared"))),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"".concat(t.path,"/shared"),component:X}),r.a.createElement(b.b,{path:"".concat(t.path,"/likes"),component:Q}),r.a.createElement(b.b,{path:"".concat(t.path,"/replies"),component:$}),r.a.createElement(b.b,{path:"".concat(t.path),component:q}))):null))))},ue={container:{marginBottom:"5px",width:"100%"},comment:{},body:{backgroundColor:"#E1E8ED",borderRadius:"10px",padding:"0px 0px 0px 10px"},foot:{display:"flex",flexDirection:"row",justifycontent:"space-between"},icon:{cursor:"pointer"}},me=function(e){var t=e.reply,a=Object(n.useState)(!1),c=Object(u.a)(a,2);c[0],c[1];return r.a.createElement("div",{style:ue.container},r.a.createElement("div",{style:ue.comment},r.a.createElement(_.a,{className:"p-1"},r.a.createElement("p",{className:"",style:{width:"30px",height:"30px"}},r.a.createElement(d.b,{to:"/profile/".concat(t.sender.username)},r.a.createElement("img",{src:t.sender.profilePic,className:"h-100 w-100 rounded-circle"}))),r.a.createElement(_.a.Body,{className:"ml-2"},r.a.createElement("div",{style:ue.body},r.a.createElement(d.b,{to:"/profile/".concat(t.sender.username)},r.a.createElement("h6",{style:{color:"#EBC944"},className:" font-weight-bold "},t.sender.name)),r.a.createElement("p",{style:{fontFamily:"Open Sans Condensed, sans-serif"},className:"w-100 text-break"},H()(t.message))))),r.a.createElement("div",null)))},de=r.a.forwardRef((function(e,t){var a=Object(n.useState)(!1),c=Object(u.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(e.sender.username),o=Object(u.a)(i,2),f=o[0],h=o[1],E=Object(n.useState)(!0),b=Object(u.a)(E,2),g=b[0],y=b[1],x=Object(m.d)((function(e){return e.user.currentUser})),v=Object(m.d)((function(e){return e.user.userToken})),j=Object(m.d)((function(e){return e.user.isSendingReply})),O=Object(n.useState)([]),S=Object(u.a)(O,2),w=S[0],N=S[1],k=Object(n.useRef)(null),I=Object(m.c)();Object(n.useEffect)((function(){fetch("/api/comment-replies/".concat(e.message._id),{headers:{"auth-token":"".concat(v)}}).then((function(e){return e.json()})).then((function(e){N(e)}))}),[j]);return r.a.createElement("div",{style:pe.container,ref:t},r.a.createElement("div",{style:pe.comment},r.a.createElement(_.a,{className:"p-1"},r.a.createElement("p",{className:"",style:{width:"30px",height:"30px"}},r.a.createElement(d.b,{to:"/profile/".concat(e.sender.username)},r.a.createElement("img",{src:e.sender.profilePic,style:{width:"100%",height:"100%"},className:" ml-1 rounded-circle"}))),r.a.createElement(_.a.Body,{className:"ml-2"},r.a.createElement("div",{style:pe.body},r.a.createElement(d.b,{to:"/profile/".concat(e.sender.username)},r.a.createElement("h6",{style:{color:"black"},className:" font-weight-bold m-0 mb-1"},e.sender.username)),r.a.createElement("p",{style:{fontFamily:"sans-"},className:"w-100 text-break"},H()(e.message.message_body))),r.a.createElement("div",null),r.a.createElement("div",{style:pe.foot},r.a.createElement("div",{style:pe.icon,onClick:function(){l(!0)}},r.a.createElement("i",{class:"far fa-thumbs-up mr-3"}," Like ")),r.a.createElement("div",{style:pe.icon,onClick:function(){l(!0),h(""),k.current.focus()}},r.a.createElement("i",{class:"fa fa-reply mr-3 d"}," Reply ")),r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){y(!1)}},w.length>0?1!==w.length?r.a.createElement("p",null,w.length," replies"):r.a.createElement("p",null,w.length," reply"):null)),r.a.createElement("div",{style:{marginLeft:"100px"}},g?null:w.map((function(e){return r.a.createElement("div",null,r.a.createElement(me,{reply:e}),r.a.createElement("div",{style:{marginLeft:"50px",flexDirection:"row",display:"flex"}},r.a.createElement("div",{style:pe.icon},r.a.createElement("i",{class:"far fa-thumbs-up mr-3"}," Like ")),r.a.createElement("div",{style:pe.icon,onClick:function(){l(!0),h(e.sender.username)}},r.a.createElement("i",{class:"fa fa-reply mr-3 d"}," Reply "))))}))))),r.a.createElement("div",{style:{display:"".concat(s?"block":"none"),marginLeft:"146px"}},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=f,n=e.message._id,r=x._id;a.length>0&&(I({type:p.SEND_REPLY,payload:{reply:a,messageId:n,senderId:r}}),I({type:p.SENDING_REPLY_STATUS}),h(""))},style:{display:"flex",flexDirection:"row"}},r.a.createElement("p",{className:"",style:{width:"30px",height:"30px"}},r.a.createElement("img",{src:x.profilePic,className:"h-100 w-100 rounded-circle"})),r.a.createElement("input",{value:f,ref:k,onChange:function(e){h(e.target.value)},type:"text",placeholder:"Add a reply...",style:{borderRadius:"10px",width:"85%"},className:" border ml-2 pl-2"})))))})),pe={container:{marginBottom:"5px",width:"90%"},comment:{},body:{backgroundColor:"#E1E8ED",borderRadius:"10px",padding:"0px 0px 10px 10px"},foot:{display:"flex",flexDirection:"row",justifycontent:"space-between",marginLeft:"10px",marginRight:"10px"},icon:{cursor:"pointer"}},fe=de,he=(a(229),{container:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"100px",alignItems:"center"},postImage:{height:"380px",width:"90%"},textarea:{marginTop:"0px",height:"10px",marginBotton:"20px",width:"97%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},submitButton:{outline:"none",backgroundColor:"orange"}}),Ee=function(e){var t=e.match,a=e.currentUser,c=Object(b.h)(),s=new URLSearchParams(c.search).get("comment-id"),l=Object(n.useState)({messages:[],_id:"",users:[],topic:"",creator:{},__v:"",video:"",image:""}),i=Object(u.a)(l,2),o=i[0],f=i[1],h=a._id,E=Object(m.d)((function(e){return e.user.userToken})),g=t.params.discussionId,y=Object(m.d)((function(e){return e.user.isSendDiscussionMsg})),x=Object(m.d)((function(e){return e.user.isSendingReply})),v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],S=j[1],w=Object(m.c)(),k=Object(n.useRef)(null),I=Object(n.useRef)(null);Object(n.useEffect)((function(){fetch("/api/discussions/".concat(g),{headers:{"auth-token":"".concat(E)}}).then((function(e){return e.json()})).then((function(e){f(e.discussion)}))}),[y,x]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var T=Object(n.useCallback)((function(e){null!==e&&(window.scrollTo(0,0),e.scrollIntoView({behavior:"smooth"}))}));return r.a.createElement("div",{style:he.container},r.a.createElement("div",{ref:k,className:"postDiv",style:{width:"60%",minHeight:"600px",backgroundColor:"white"}},o.image?r.a.createElement("div",null,r.a.createElement(_.a,{className:"p-2 mb-3 h-50 w-100",style:{}},r.a.createElement("p",{className:"bg-dark rounded-circle  mr-1 text-white text-center mr-1",style:{width:"40px",height:"40px"}},r.a.createElement(d.b,{to:"/profile/".concat(o.creator.username)},r.a.createElement("img",{src:o.creator.profilePic,className:"h-100 w-100 rounded-circle"}))),r.a.createElement(_.a.Body,null,r.a.createElement("h3",null,r.a.createElement(d.b,{className:"font-weight-bold text-dark",to:"/profile/".concat(o.creator.username)},o.creator.username)),r.a.createElement("h4",{className:" text-break",style:{color:"black",fontFamily:"arial",fontSize:"15px"}},H()(o.topic)),o.video.length>0?r.a.createElement(Y,{src:o.video,width:"700px",height:"360px",top:"130px"}):null,o.image.length>0?r.a.createElement("img",{src:o.image,style:he.postImage}):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",marginTop:"20px",width:"90%"}}))),r.a.createElement("div",{style:he.textarea,className:"mb-5"},r.a.createElement("p",{className:"",style:{width:"30px",height:"30px"}},r.a.createElement("img",{src:a.profilePic,style:{width:"100%",height:"100%"},className:"ml-2 rounded-circle"})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=O;t.length>0&&(w({type:p.SEND_DISCUSSION_MESSAGE,payload:{message:t,discussionId:g,currentUserId:h}}),w({type:p.SENDING_DISCUSSION_MESSAGE_STATUS}),S(""))},style:{width:"92%"}},r.a.createElement("input",{type:"text",ref:I,onChange:function(e){S(e.target.value)},style:{borderRadius:"10px",height:"50px",width:"90%"},value:O,className:" border ml-1 pl-2",placeholder:"Add a comment..."}))),o.messages.map((function(e){return r.a.createElement("div",null,e._id===s?r.a.createElement(fe,{message:e,ref:T,sender:e.sender,currentUserId:h}):r.a.createElement(fe,{message:e,sender:e.sender,currentUserId:h}))}))):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"360px",marginTop:"200px"}},r.a.createElement(N.a,{animation:"border",variant:"black"}))))},be=(a(230),a(125)),ge={title:{alignItems:"center",width:"750px",margin:"15px",borderRadius:"5px",padding:"10px"},buttons:{display:"flex",justifyContent:"flex-end",width:"750px"}},ye=function(e){var t=e.history,a=Object(m.d)((function(e){return e.user.currentUser}))._id,c=Object(n.useState)(""),s=Object(u.a)(c,2),l=s[0],i=s[1],o=Object(n.useState)(""),d=Object(u.a)(o,2),p=d[0],f=d[1],h=Object(n.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){t.result;var a=new FormData;a.append("file",e),te.a.post("/api/upload-video",a,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.uploaded?(f(e.data.url),alert(e.data.url)):(alert("failed to upload video"),console.log(e))}))},t.readAsArrayBuffer(e)}))}),[]),E=Object(be.a)({onDrop:h}),b=E.getRootProps,g=E.getInputProps;return r.a.createElement("form",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onSubmit:function(e){e.preventDefault();te.a.post("/api/upload-video-post",{title:l,videoUrl:p,currentUserId:a},{header:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){e.data.success?t.push("/home"):alert("not working")}))}},r.a.createElement("input",{style:ge.title,value:l,onChange:function(e){i(e.target.value)},className:" border-black border",name:"title",type:"search",maxLength:"300",placeholder:"Title"}),r.a.createElement("div",Object.assign({},b(),{style:{width:"150px",height:"30px",marginBottom:"5px"}}),r.a.createElement("input",Object.assign({},g(),{accept:"video/*"})),r.a.createElement("p",{style:{borderRadius:"5px",width:"150px",height:"30px"},className:" text-center text-primary border border-primary bg-white"},"".concat(p.length>1?"Delete video":"Upload"))),r.a.createElement("div",{className:" border-black border",style:{height:"250px",width:"750px"}},p.length>1?r.a.createElement(Y,{src:p,width:"750px",height:"250px",top:"80px"}):null),r.a.createElement("div",{style:ge.buttons},r.a.createElement("p",{className:"pl-4 btn pr-4 m-1 pt-1 pb-1 border-primary font-weight-bold bg-white text-primary",style:{fontSize:"15px",borderRadius:"5px"}},"Cancel"),r.a.createElement("button",{className:"pl-4 pr-4 m-1 pt-1 pb-1 bg-primary font-weight-bold text-white",style:{fontSize:"15px",border:"none",borderRadius:"5px"}},"Post")))},xe=a(120),ve=a.n(xe),je=a(121),Oe=a.n(je),Se={container:{display:"flex",flexDirection:"row",justifyContent:"center"},postDiv:{display:"flex",flexDirection:"column",backgroundColor:"white",height:"500px",width:"800px",alignItems:"center"},tabs:{display:"flex",flexDirection:"row",justifyContent:"space-between"},tabItem:{padding:"10px",width:"200px",display:"flex",flexDirection:"row",justifyContent:"center"},title:{border:"1px solid black",alignItems:"center",width:"750px",margin:"15px",borderRadius:"5px",padding:"10px"},buttons:{display:"flex",justifyContent:"flex-end",width:"750px"}},we=function(e){var t=e.history,a=Object(m.d)((function(e){return e.user.currentUser})),c=Object(m.d)((function(e){return e.user.userToken})),s=a._id,l=Object(n.useRef)(null);return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement("div",{style:Se.container},r.a.createElement("form",{style:Se.postDiv,ref:l},r.a.createElement("div",{className:"mt-3"},r.a.createElement(Oe.a,{editor:ve.a,onInit:function(e){!function(e){l.current.addEventListener("submit",(function(a){a.preventDefault();var n=e.getData();e.setData(""),fetch("/api/new-discussion",{headers:{"Content-Type":"application/json",Accept:"application/json","auth-token":"".concat(c)},method:"POST",body:JSON.stringify({body:n,currentUserId:s})}).then((function(e){return e.json()})).then((function(e){t.push("/home")}))}))}(e),e.editing.view.change((function(t){t.setStyle("height","250px",e.editing.view.document.getRoot()),t.setStyle("width","750px",e.editing.view.document.getRoot())}))},config:{ckfinder:{uploadUrl:"/api/uploads"},title:{placeholder:"My custom placeholder for the title"},image:{toolbar:["imageStyle:side","|","imageTextAlternative"],styles:["alignRight"],resizeOptions:{name:"imageResize:50",label:"50%",value:"50"}}}})),r.a.createElement("div",{style:Se.buttons},r.a.createElement("p",{className:"pl-4 btn pr-4 m-1 pt-1 pb-1 border-primary font-weight-bold bg-white text-primary",style:{fontSize:"15px",borderRadius:"5px"}},"Cancel"),r.a.createElement("button",{className:"pl-4 pr-4 m-1 pt-1 pb-1 bg-primary font-weight-bold text-white",style:{fontSize:"15px",border:"none",borderRadius:"5px"}},"Post"))))},Ne={container:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"100px"},postDiv:{display:"flex",flexDirection:"column",backgroundColor:"white",height:"500px",width:"800px",alignItems:"center",backgroundImage:"url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat-back.svg')",backgroundPosition:"center",backgroundRepeat:"repeat",backgroundSize:"10%"},tabs:{display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"white",backgroundImage:"url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat-back.svg')",backgroundPosition:"center",backgroundRepeat:"repeat",backgroundSize:"10%"},tabItem:{padding:"10px",width:"200px",display:"flex",flexDirection:"row",justifyContent:"center"},title:{border:"1px solid black",alignItems:"center",width:"750px",margin:"15px",borderRadius:"5px",padding:"10px"},buttons:{display:"flex",justifyContent:"flex-end",width:"750px"}},ke=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=(c[0],c[1],Object(m.d)((function(e){return e.user.currentUser}))),l=(Object(m.d)((function(e){return e.user.userToken})),s._id,Object(n.useRef)(null),Object(n.useState)(!0)),i=Object(u.a)(l,2),o=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),h=f[0],E=f[1];return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement("div",{style:Ne.container},r.a.createElement("div",{style:Ne.postDiv},r.a.createElement("div",{style:Ne.tabs},r.a.createElement("div",{style:Ne.tabItem,className:"".concat(o?"text-primary":"text-black-50"," border border-black border-left-0 border-top-0"),onClick:function(){d(!0),E(!1)}},r.a.createElement("i",{class:"fas fa-edit"}," Post ")),r.a.createElement("div",{style:Ne.tabItem,className:"".concat(h?"text-primary":"text-black-50"," border border-black border-left-0 border-top-0"),onClick:function(){d(!1),E(!0)}},r.a.createElement("i",{class:"fas fa-images"},"  Images and Video ")),r.a.createElement("div",{style:Ne.tabItem,className:"text-black-50 border border-black border-left-0 border-top-0"},r.a.createElement("i",{class:"fas fa-link"}," Link ")),r.a.createElement("div",{style:Ne.tabItem,className:"  text-black-50 border border-black border-left-0 border-right-0 border-top-0"},r.a.createElement("i",{class:"fas fa-images"},"  Poll "))),h?r.a.createElement(ye,{history:t}):null,o?r.a.createElement(we,{history:t}):null))},Ie={container:{display:"flex",flexDirection:"row",justifyContent:"center",height:"100%",marginTop:"70px"},posts:{width:"70%"}},_e=function(){var e=Object(m.d)((function(e){return e.posts.watchVideos})),t=Object(m.d)((function(e){return e.user.userToken})),a=Object(m.c)();return Object(n.useEffect)((function(){fetch("/api/watch-videos",{headers:{"auth-token":"".concat(t)}}).then((function(e){return e.json()})).then((function(e){a({type:"ADD_WATCH_VIDEOS",payload:e})}))}),[]),r.a.createElement("div",{style:Ie.container},r.a.createElement("div",{style:Ie.posts},r.a.createElement("h5",{style:{marginBottom:"10px",fontFamily:"arial"}},"Top videos for you"),e.map((function(e){return r.a.createElement(W,{discussion:e,height:"500px",width:"840px",top:"200px"})}))))},Te={container:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"100px",alignItems:"center"},result:{minHeight:"80px",backgroundColor:"white",marginBottom:"10px",maxWidth:"550px",minWidth:"550px",padding:"10px"}},Ce=function(){var e=Object(b.h)(),t=new URLSearchParams(e.search).get("q"),a=Object(n.useState)([]),c=Object(u.a)(a,2),s=c[0],l=c[1],i=Object(m.d)((function(e){return e.user.userToken}));return Object(n.useEffect)((function(){fetch("/api/search/users/".concat(t),{headers:{"auth-token":"".concat(i)}}).then((function(e){return e.json()})).then((function(e){l(e)}))}),[t]),Object(n.useEffect)((function(){})),r.a.createElement("div",{style:Te.container},s.length>0?s.map((function(e){return r.a.createElement("div",{style:Te.result},r.a.createElement(d.b,{to:"/profile/".concat(e.username),className:"text-decoration-none text"},r.a.createElement(_.a,{className:""},r.a.createElement("p",{className:"rounded-circle  mr-3",style:{width:"60px",height:"60px"}},r.a.createElement("img",{src:e.profilePic,className:"h-100 w-100 rounded-circle"})),r.a.createElement(_.a.Body,null,r.a.createElement("h5",{className:"  font-weight-normal text-break",style:{color:"black",fontSize:"15px",marginTop:"10px"}},e.name)))))})):r.a.createElement("div",{className:" position-absolute",style:{marginLeft:"0px",marginTop:"200px"}},r.a.createElement(N.a,{animation:"border",variant:"white"})))},De=(a(244),function(){var e=Object(m.d)((function(e){return e.user.currentUser}));Object(m.d)((function(e){return e.posts.discussions})),Object(m.c)();return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-bet"}},r.a.createElement(x,null),r.a.createElement("div",{className:"mainBody"},r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(){return e?r.a.createElement(b.a,{to:"/home"}):r.a.createElement(O,null)}}),r.a.createElement(b.b,{exact:!0,path:"/signin",render:function(){return e?r.a.createElement(b.a,{to:"/home"}):r.a.createElement(k,null)}}),r.a.createElement(b.b,{exact:!0,path:"/signup",render:function(){return e?r.a.createElement(b.a,{to:"/home"}):r.a.createElement(I,null)}}),e?r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/home",render:function(e){return r.a.createElement(ie,e)}}),r.a.createElement(b.b,{path:"/discussions/:discussionId",render:function(t){return r.a.createElement(Ee,Object.assign({currentUser:e},t))}}),r.a.createElement(b.b,{path:"/chats",component:G}),r.a.createElement(b.b,{path:"/notifications",component:B}),r.a.createElement(b.b,{path:"/profile/:username",component:oe}),r.a.createElement(b.b,{path:"/new-post",component:ke}),r.a.createElement(b.b,{path:"/watch",component:_e}),r.a.createElement(b.b,{path:"/search",component:Ce})):r.a.createElement(b.a,{to:"/signin"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=a(22),Ue=a(56),Pe=a.n(Ue)()("/"),Le=function(e,t){var a=t.message,n=t.chatId,r=t.mateId,c=t.currentUserId;Pe.emit("message",{message:a,chatId:n,mateId:r,currentUserId:c})},Ae=function(e,t){var a=t.message,n=t.discussionId,r=t.currentUserId;Pe.emit("discussion-message",{message:a,discussionId:n,currentUserId:r})},Ge=function(e){var t=e.reply,a=e.messageId,n=e.senderId;Pe.emit("reply",{reply:t,messageId:a,senderId:n})},Fe=(a(269),{currentUser:null,userToken:"",Messages:null,error:null,isFetchingMates:!1,searchResultMates:null,mates:null,isSending:!0,isSendDiscussionMsg:!0,isSendingReply:!0,likingPost:!1,Replies:[],userProfile:null,userHeaderOptionsDisplay:!1}),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SIGN_IN_TOKEN:return Object(w.a)({},e,{userToken:t.payload});case p.SIGN_IN_SUCCESS:return Object(w.a)({},e,{currentUser:t.payload,error:null});case p.SIGN_OUT_SUCCESS:return Object(w.a)({},e,{currentUser:null,userToken:"",error:null});case p.UPDATE_USER_PROFILE:return Object(w.a)({},e,{currentUser:t.payload});case p.SEND_DISCUSSION_MESSAGE:return Object(w.a)({},e,{Messages:Ae(e.Messages,t.payload)});case p.SEND_MESSAGE_START:return Object(w.a)({},e,{Messages:Le(e.Messages,t.payload)});case p.SENDING_MESSAGE_STATUS:return Object(w.a)({},e,{isSending:!e.isSending});case p.SENDING_DISCUSSION_MESSAGE_STATUS:return Object(w.a)({},e,{isSendDiscussionMsg:!e.isSendDiscussionMsg});case p.SEND_REPLY:return Object(w.a)({},e,{Replies:Ge(t.payload)});case p.SENDING_REPLY_STATUS:return Object(w.a)({},e,{isSendingReply:!e.isSendingReply});case p.LIKING_POST:return Object(w.a)({},e,{likingPost:!e.likingPost});case p.FETCH_MATES_SUCCESS:return Object(w.a)({},e,{searchResultMates:t.payload,isFetchingMates:!1});case p.FETCH_USER_PROFILE:return Object(w.a)({},e,{userProfile:t.payload});case p.TOGGLE_USER_HEADER_OPTIONS_DISPLAY:return Object(w.a)({},e,{userHeaderOptionsDisplay:t.payload});default:return e}},Be=a(47),ze=a(122),He={allDiscussions:[],watchVideos:[]},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALL_DISCUSSIONS":return Object(w.a)({},e,{allDiscussions:t.payload});case"ADD_WATCH_VIDEOS":return Object(w.a)({},e,{watchVideos:t.payload});default:return e}},Ye={key:"root",storage:a.n(ze).a,whitelist:["user"]},Ve=Object(Re.c)({user:Me,posts:Ke}),Je=Object(Be.a)(Ye,Ve),We=a(123),qe=a.n(We),$e=[];$e.push(qe.a);var Qe=Object(Re.d)(Je,Re.a.apply(void 0,$e)),Xe=Object(Be.b)(Qe),Ze=a(124);a(272),a(273);s.a.render(r.a.createElement(m.a,{store:Qe},r.a.createElement(Ze.a,{persistor:Xe},r.a.createElement(d.a,null,r.a.createElement(De,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.4152da89.chunk.js.map